<!DOCTYPE html>
<html lang="cn">
<head>
    <meta charset="UTF-8">
    <title>jsonp</title>
    <style>
        #box{r
            width: 800px;
            border: 1px solid #999;
            padding: 20px;
        }
    </style>
</head>
<body>
<h1>Ajax</h1>
<hr>
<button onclick="loadHtml()">加载</button>

<br>
<div id="box"></div>

<script>
    //加载
    function loadHtml(){
        //创建script标签  它不受同源策略
        var script = document.createElement('script');
        // 设置src属性  的值为 我们请求的那个文件
        script.src = "http://localhost/JavaScript/js12/jsonp/jsonp.php";
        //添加script标签
        document.body.appendChild(script);
    }

    //声明函数 定义 makedata
    function makedata(obj){
        // alert(obj);
        //把数据以表格的形式输出
        //创建table 并设置属性
        var table = document.createElement('table');
        table.width = 800;
        table.border = 1;
        table.cellSpacing = 0;
        table.cellPadding = 5;
        table.id = 'table';

        //将table添加到box'中
        box.appendChild(table);

        //添加单元行
        var tr = table.insertRow(0);
        //添加TH表头
        addTH(tr, ['id','name','sex','age','province']);

        //添加单元格数据
        for (var i = 0; i < obj.length; i++) {
            var tr = table.insertRow(i+1);
            tr.insertCell(0).innerHTML = obj[i].id;
            tr.insertCell(1).innerHTML = obj[i].name;
            tr.insertCell(2).innerHTML = obj[i].sex;
            tr.insertCell(3).innerHTML = obj[i].age;
            tr.insertCell(4).innerHTML = obj[i].province;
        }

    }

    //给tr添加th的函数
    function addTH(tr, data){
        for (var i = 0; i < data.length; i++) {
            var th = document.createElement('th');
            th.innerHTML = data[i];
            tr.appendChild(th);
        }
    }

</script>
</body>
</html>