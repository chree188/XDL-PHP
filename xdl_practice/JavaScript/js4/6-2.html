<!DOCTYPE html>
<html lang="cn">
<head>
    <meta charset="UTF-8">
    <title>JS</title>
</head>
<body>
    <h1>验证登陆表单</h1>
    <hr>
    <form action="1.php" name="regForm" method="post" onsubmit="return checkFrom()">
        <table>
            <tr>
                <td>邮箱:</td>
                <td><input type="text" name="email"></td>
                <td id="a1"></td>
            </tr>
            <tr>
                <td>用户名:</td>
                <td><input type="text" name="user"></td>
                <td id="a2"></td>
            </tr>
            <tr>
                <td>密码:</td>
                <td><input type="password" name="pass"></td>
                <td id="a3"></td>
            </tr>
            <tr>
                <td>确认密码:</td>
                <td><input type="password" name="repass"></td>
                <td id="a4"></td>
            </tr>
            <tr>
                <td></td>
                <td><input type="submit" value="注 册"></td>
            </tr>
        </table>
    </form>

    <script>
        function checkFrom() {
//            验证邮箱
            var email = document.regForm.email.value;
            var email_ts =  document.getElementById('a1');
//            console.log(email);
//            dust-hehe@vip.qq.com.cn
            if (email.search(/^[\w-]+@[\w-]+(\.\w+){1,3}$/) === -1) {
                email_ts.innerHTML = '邮箱格式有误!';
                return false;
            } else {
                email_ts.innerHTML = '';
            }

//            验证用户名 6-12位 数字字母下划线
            var user = document.regForm.user.value;
            var user_ts = document.getElementById('a2');
            if (user.match(/^\w{6,12}$/) === null) {
                user_ts.innerHTML = '用户名必须是6-12位 数字字母下划线!';
                return false;
            } else {
                user_ts.innerHTML = '';
            }

//            验证密码 长度6-18位
            var pass = document.regForm.pass.value;
            var pass_ts = document.getElementById('a3');
            if (pass.length < 6 || pass.length > 18) {
                pass_ts.innerHTML = '密码长度不合法 6-18位!';
                return false;
            } else {
                pass_ts.innerHTML = '';
            }

//            验证两次密码是否一致
            var repass = document.regForm.repass.value;
            var repass_ts = document.getElementById('a4');
            if (pass !== repass) {
                repass_ts.innerHTML = '两次密码不一致!';
                return false;
            } else {
                repass_ts.innerHTML = '';
            }

//            全部验证通过返回true 则表单会被提交页面跳转
            return true;
        }
    </script>
</body>
</html>